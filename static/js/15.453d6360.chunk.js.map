{"version":3,"sources":["components/Template/Button.js","app/module/actions.js","pages/Teacher/Module/AddModule.js"],"names":["StyledButton","styled","div","Constants","COLOR","LIGHT_GREEN","setCurrentStep","step","type","payload","setSelectedModule","moduleToAdd","addStep","setSteps","steps","StyledBody","HEADER_HEIGHT","SIDEBAR_WIDTH","StyledSectionTitle","p","ExistingModules","StyledButtonContainer","StyledDashboardButton","Button","AddModule","dispatch","useDispatch","history","useHistory","modulesList","useSelector","selectModuleList","currentClass","selectCurrentClass","modulesCards","filter","module","modules","includes","mid","map","onClick","handleClick","classDataDb","doc","cid","update","firebase","firestore","FieldValue","arrayUnion","then","get","setCurrentClass","data","title","description","EMPTY_MODULE","push"],"mappings":"gIAAA,YAGA,MAAMA,EAHN,MAGqBC,EAAOC,GAAI;sBACVC,IAAUC,MAAMC;;;;;;;;;;;;EAcvBL,O,gCClBf,wIAAO,MAAMM,EAAkBC,IACtB,CACLC,KAAM,mBACNC,QAASF,IAIAG,EAAqBC,IACzB,CACLH,KAAM,sBACNC,QAASE,IAIAC,EAAWL,IACf,CACLC,KAAM,WACNC,QAASF,IAIAM,EAAYC,IAChB,CACLN,KAAM,YACNC,QAASK,K,gCCxBb,8IAiBA,MA+DMC,EAAad,IAAOC,GAAI;gBACdC,IAAUa;iBACTb,IAAUc;;EAIrBC,EAAqBjB,IAAOkB,CAAE;;;;EAM9BC,EAAkBnB,IAAOC,GAAI;;;;;;EAQ7BmB,EAAwBpB,IAAOC,GAAI;;;;;EAOnCoB,EAAwBrB,YAAOsB,IAAQ;;;;;sBAKvBpB,IAAUC,MAAMC;;;;EAMvBmB,UArGG,KAChB,MAAMC,EAAWC,cACXC,EAAUC,cACVC,EAAcC,YAAYC,KAC1BC,EAAeF,YAAYG,KAM3BC,EAAY,OAAGL,QAAH,IAAGA,OAAH,EAAGA,EACjBM,QAAQC,KAAW,OAACJ,QAAD,IAACA,OAAD,EAACA,EAAcK,QAAQC,SAASF,EAAOG,QAC3DC,KAAK7B,GACJ,cAAC,IAAD,CACE8B,QAAS,IAAMC,EAAY/B,EAAY4B,KACvCH,OAAQzB,EAAY4B,QAIpBG,EAAeH,IACnBI,IACGC,IAAIZ,EAAaa,KACjBC,OAAO,CACNT,QAASU,IAASC,UAAUC,WAAWC,WAAWX,KAEnDY,KACCR,IACGC,IADH,OACOZ,QADP,IACOA,OADP,EACOA,EAAca,KAClBO,MACAD,MAAMP,GAAQnB,EAAS4B,YAAgBT,EAAIU,aAcpD,OACE,eAAC,IAAD,CAAMC,MAAO,eAAgBC,YAAa,eAA1C,UACE,cAAC,IAAD,IACA,cAAC,IAAD,IACA,eAACzC,EAAD,WACE,cAACG,EAAD,+BACA,cAACE,EAAD,UAAkBc,IAClB,eAACb,EAAD,WACE,cAACC,EAAD,CAAuBmB,QAlBD,KAC5BhB,EAASf,YAAkBP,IAAUsD,eACrC9B,EAAQ+B,KAAM,kBAgBR,+BAGA,cAACpC,EAAD,CAAuBmB,QAAS,IAAMd,EAAQ+B,KAAM,QAApD","file":"static/js/15.453d6360.chunk.js","sourcesContent":["import { Constants } from \"../../data/constants\";\nimport styled from \"styled-components\";\n\nconst StyledButton = styled.div`\n  background-color: ${Constants.COLOR.LIGHT_GREEN};\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  color: white;\n  font-weight: bold;\n  &:hover {\n    filter: brightness(110%);\n    cursor: pointer;\n  }\n`;\n\nexport default StyledButton;\n","export const setCurrentStep = (step) => {\n  return {\n    type: \"SET_CURRENT_STEP\",\n    payload: step,\n  };\n};\n\nexport const setSelectedModule = (moduleToAdd) => {\n  return {\n    type: \"SET_SELECTED_MODULE\",\n    payload: moduleToAdd,\n  };\n};\n\nexport const addStep = (step) => {\n  return {\n    type: \"ADD_STEP\",\n    payload: step,\n  };\n};\n\nexport const setSteps = (steps) => {\n  return {\n    type: \"SET_STEPS\",\n    payload: steps,\n  };\n};\n","import React, { useEffect, useState } from \"react\";\nimport Main from \"../../../layouts/Main\";\nimport SideBar from \"../../../components/Template/SideBar\";\nimport Header from \"../../../components/Teacher/Header\";\nimport styled from \"styled-components\";\nimport { Constants } from \"../../../data/constants\";\nimport { classDataDb, getAllModules } from \"../../../data/firebase\";\nimport ModuleCard from \"../../../components/Template/ModuleCard\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { selectModuleList } from \"../../../app/account/selectors\";\nimport { selectCurrentClass } from \"../../../app/class/selectors\";\nimport { setCurrentClass } from \"../../../app/class/actions\";\nimport firebase from \"firebase\";\nimport Button from \"../../../components/Template/Button\";\nimport { useHistory } from \"react-router\";\nimport { setSelectedModule } from \"../../../app/module/actions\";\n\nconst AddModule = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const modulesList = useSelector(selectModuleList);\n  const currentClass = useSelector(selectCurrentClass);\n\n  // This should be edited to fit style that you would like\n  // This turns the modules in the modulesList to divs to be displayed\n  // This should also include buttons or the ability to be clicked or something to be\n  // able to select the module to be added and assigned to the class\n  const modulesCards = modulesList\n    ?.filter((module) => !currentClass?.modules.includes(module.mid))\n    .map((moduleToAdd) => (\n      <ModuleCard\n        onClick={() => handleClick(moduleToAdd.mid)}\n        module={moduleToAdd.mid}\n      />\n    ));\n\n  const handleClick = (mid) => {\n    classDataDb\n      .doc(currentClass.cid)\n      .update({\n        modules: firebase.firestore.FieldValue.arrayUnion(mid),\n      })\n      .then(\n        classDataDb\n          .doc(currentClass?.cid)\n          .get()\n          .then((doc) => dispatch(setCurrentClass(doc.data())))\n      );\n  };\n\n  const handleCreateNewModule = () => {\n    dispatch(setSelectedModule(Constants.EMPTY_MODULE));\n    history.push(`create-module`);\n  };\n\n  // I think this page should be some kind of place to search for already created modules\n  // There should be some kind of search functionality that connects to firebase to allow\n  // teachers to search through modules created by APA and by other teachers\n  // Also should include a button to go to the create a module page\n  // FOR NOW NO SEARCH FUNCTIONALITY, JUST SHOW ALL AVAILABLE MODULES\n  return (\n    <Main title={\"Add a Module\"} description={\"Add a Module\"}>\n      <SideBar />\n      <Header />\n      <StyledBody>\n        <StyledSectionTitle>Existing Modules</StyledSectionTitle>\n        <ExistingModules>{modulesCards}</ExistingModules>\n        <StyledButtonContainer>\n          <StyledDashboardButton onClick={handleCreateNewModule}>\n            CREATE NEW MODULE\n          </StyledDashboardButton>\n          <StyledDashboardButton onClick={() => history.push(`home`)}>\n            BACK TO DASHBOARD\n          </StyledDashboardButton>\n        </StyledButtonContainer>\n      </StyledBody>\n    </Main>\n  );\n};\n\nconst StyledBody = styled.div`\n  margin-top: ${Constants.HEADER_HEIGHT};\n  margin-left: ${Constants.SIDEBAR_WIDTH};\n  padding: 0 50px;\n`;\n\nconst StyledSectionTitle = styled.p`\n  font-size: 36px;\n  line-height: 43px;\n  font-weight: 500;\n`;\n\nconst ExistingModules = styled.div`\n  display: flex;\n  width: 100%;\n  flex-wrap: no-wrap;\n  overflow: auto;\n  height: 300px;\n`;\n\nconst StyledButtonContainer = styled.div`\n  display: flex;\n  align-items: space-around;\n  justify-content: space-around;\n  width: 60%;\n`;\n\nconst StyledDashboardButton = styled(Button)`\n  font-size: 15px;\n  height: 50px;\n  padding: 0 5px;\n  width: 220px;\n  background-color: ${Constants.COLOR.LIGHT_GREEN};\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nexport default AddModule;\n"],"sourceRoot":""}