{"version":3,"sources":["pages/LogIn/SignIn.js","components/Template/Button.js","images/white mtn.png","app/class/actions.js","components/Authentication/Header.js"],"names":["MainContainer","styled","div","Constants","HEADER_HEIGHT","StyledButtonContainer","StyledTitle","header","StyledForm","form","StyledInput","input","StyledEmailInput","StyledForgotButton","p","COLOR","LIGHT_GREEN","DARK_GREEN","StyledSignUpButton","StyledSubmitButton","Button","StyledError","SignIn","history","useHistory","errorMessage","setErrorMessage","useState","dispatch","useDispatch","title","description","id","type","placeholder","name","required","onClick","data","Object","values","document","forms","signInForm","reduce","obj","field","value","email","includes","auth","signInWithEmailAndPassword","password","then","userDataDb","doc","currentUser","uid","get","signIn","classList","length","classDataDb","cid","result","setCurrentClass","push","accountType","catch","error","code","message","StyledButton","classNumber","payload","StyledHeader","HeaderName","StyledLogo","img","StyledLogoContainer","StyledHelpButton","Header","src","Logo"],"mappings":"iIAAA,yGAYA,MA4GMA,EAAgBC,IAAOC,GAAI;;;;;;yBAMRC,IAAUC;EAG7BC,EAAwBJ,IAAOC,GAAI;;;;;EAOnCI,EAAcL,IAAOM,MAAO;;;EAK5BC,EAAaP,IAAOQ,IAAK;;;;;;EAQzBC,EAAcT,IAAOU,KAAM;;;;;;EAQ3BC,EAAmBX,YAAOS,EAAa;;EAIvCG,EAAqBZ,IAAOa,CAAE;;;;WAIzBX,IAAUY,MAAMC;;;;aAIdb,IAAUY,MAAME;;EAIvBC,EAAqBjB,IAAOa,CAAE;;;;;;;;;;;EAa9BK,EAAqBlB,YAAOmB,IAAQ;;;;;sBAKpBjB,IAAUY,MAAME;;;;EAoBhCI,GAdapB,IAAOC,GAAI;;;;;EAOJD,IAAOC,GAAI;;;;;EAOjBD,IAAOa,CAAE;;;GAKdQ,UA5MA,KACb,MAAMC,EAAUC,eACTC,EAAcC,GAAmBC,qBAClCC,EAAWC,cAwDjB,OACE,eAAC,IAAD,CAAMC,MAAO,UAAWC,YAAa,UAArC,UACE,cAAC,IAAD,IACA,eAAC/B,EAAD,WACE,cAACM,EAAD,sBACA,eAACE,EAAD,CAAYwB,GAAG,aAAf,UACE,cAACpB,EAAD,CACEqB,KAAK,QACLC,YAAY,QACZC,KAAK,QACL,YAAU,QACVC,UAAQ,IAEV,cAAC1B,EAAD,CACEuB,KAAK,WACLC,YAAY,WACZC,KAAK,WACL,YAAU,WACVC,UAAQ,IAEV,cAACvB,EAAD,4CACA,cAACQ,EAAD,UAAcI,IACd,eAACpB,EAAD,WACE,cAACc,EAAD,CACEc,KAAK,SACL,YAAU,SACVI,QAhFS,KACnBX,IAGA,MAAMY,EAAOC,OAAOC,OAAOC,SAASC,MAAMC,YAAYC,QACpD,CAACC,EAAKC,KACJD,EAAIC,EAAMX,MAAQW,EAAMC,MACjBF,IAET,IAIF,IAAK,IAAIE,KAAST,EAChB,GAAoB,KAAhBA,EAAKS,GAEP,YADArB,EAAgB,8BAIfY,EAAKU,MAAMC,SAAS,KAKzBC,IACGC,2BAA2Bb,EAAKU,MAAOV,EAAKc,UAC5CC,MAAK,KACJC,IACGC,IAAIL,IAAKM,YAAYC,KACrBC,MACAL,MAAME,IACL3B,EAAS+B,YAAOJ,EAAIjB,SACgB,IAAhCiB,EAAIjB,OAAOsB,UAAUC,OACvBC,IACGP,IAAIA,EAAIjB,OAAOsB,UAAU,GAAGG,KAC5BL,MACAL,MAAMW,GAAWpC,EAASqC,YAAgBD,EAAO1B,WAEpDV,EAASqC,YAAgB,OAE3B1C,EAAQ2C,KAAM,IAAGX,EAAIjB,OAAO6B,0BAGjCC,OAAOC,IACa,wBAAfA,EAAMC,KACR5C,EAAgB,iDACQ,wBAAf2C,EAAMC,KACf5C,EAAgB,4BAEhBA,EAAgB2C,EAAME,YA7B1B7C,EAAgB,qCAyDV,qBAOA,cAACR,EAAD,CACE,YAAU,UACVmB,QAAS,IAAMd,EAAQ2C,KAAM,WAF/B,iF,gCCrGZ,YAGA,MAAMM,EAHN,MAGqBvE,EAAOC,GAAI;sBACVC,IAAUY,MAAMC;;;;;;;;;;;;EAcvBwD,O,gCClBA,QAA0B,uC,gCCAzC,wCAEO,MAAMP,EAAmBQ,IACvB,CACLxC,KAAM,oBACNyC,QAASD,K,gCCLb,wDAOA,MAkBME,EAAe1E,IAAOM,MAAO;;sBAEbJ,IAAUY,MAAMC;;;YAG1Bb,IAAUC;;;;;;EAQhBC,EAAwBJ,IAAOC,GAAI;;;;EAMnC0E,EAAa3E,IAAOC,GAAI;;;;;;;;;;;;;;EAgBxB2E,EAAa5E,IAAO6E,GAAI;;;;;;EAQxBC,EAAsB9E,IAAOC,GAAI;;;;EAMjC8E,EAAmB/E,YAAOuE,IAAc;;;;EAM/BS,IAzEA,KACb,MAAM1D,EAAUC,cAEhB,OACE,eAACmD,EAAD,CAAc3C,GAAG,SAAjB,UACE,eAAC+C,EAAD,WACE,cAACF,EAAD,CAAYxC,QAAS,IAAMd,EAAQ2C,KAAK,SAAUgB,IAAKC,MACvD,cAACP,EAAD,CAAYvC,QAAS,IAAMd,EAAQ2C,KAAK,SAAxC,wCAIF,cAAC7D,EAAD,UACE,cAAC2E,EAAD","file":"static/js/15.3e0d9d96.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport Main from \"../../layouts/Main\";\nimport styled from \"styled-components\";\nimport Header from \"../../components/Authentication/Header\";\nimport { Constants } from \"../../data/constants\";\nimport Button from \"../../components/Template/Button\";\nimport { useDispatch } from \"react-redux\";\nimport { auth, classDataDb, userDataDb } from \"../../data/firebase\";\nimport { signIn } from \"../../app/account/actions.js\";\nimport { setCurrentClass } from \"../../app/class/actions\";\nimport { useHistory } from \"react-router\";\n\nconst SignIn = () => {\n  const history = useHistory();\n  const [errorMessage, setErrorMessage] = useState();\n  const dispatch = useDispatch();\n\n  const handleSubmit = () => {\n    setErrorMessage();\n\n    // get sign up form data\n    const data = Object.values(document.forms.signInForm).reduce(\n      (obj, field) => {\n        obj[field.name] = field.value;\n        return obj;\n      },\n      {}\n    );\n\n    // checks all fields are filled out\n    for (var value in data) {\n      if (data[value] === \"\") {\n        setErrorMessage(\"Please fill out all fields\");\n        return;\n      }\n    }\n    if (!data.email.includes(\"@\")) {\n      setErrorMessage(\"Please enter valid email address\");\n      return;\n    }\n\n    auth\n      .signInWithEmailAndPassword(data.email, data.password)\n      .then(() => {\n        userDataDb\n          .doc(auth.currentUser.uid)\n          .get()\n          .then((doc) => {\n            dispatch(signIn(doc.data()));\n            if (doc.data().classList.length !== 0) {\n              classDataDb\n                .doc(doc.data().classList[0].cid)\n                .get()\n                .then((result) => dispatch(setCurrentClass(result.data())));\n            } else {\n              dispatch(setCurrentClass(null));\n            }\n            history.push(`/${doc.data().accountType}/home`);\n          });\n      })\n      .catch((error) => {\n        if (error.code === \"auth/user-not-found\") {\n          setErrorMessage(\"A user with this email address does not exist\");\n        } else if (error.code === \"auth/wrong-password\") {\n          setErrorMessage(\"The password is invalid.\");\n        } else {\n          setErrorMessage(error.message);\n        }\n      });\n  };\n\n  return (\n    <Main title={\"Sign-In\"} description={\"Sign-In\"}>\n      <Header />\n      <MainContainer>\n        <StyledTitle>Sign-In</StyledTitle>\n        <StyledForm id=\"signInForm\">\n          <StyledEmailInput\n            type=\"email\"\n            placeholder=\"Email\"\n            name=\"email\"\n            data-test=\"email\"\n            required\n          />\n          <StyledInput\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            data-test=\"password\"\n            required\n          />\n          <StyledForgotButton>Did you forget your password?</StyledForgotButton>\n          <StyledError>{errorMessage}</StyledError>\n          <StyledButtonContainer>\n            <StyledSubmitButton\n              type=\"submit\"\n              data-test=\"submit\"\n              onClick={handleSubmit}\n            >\n              SIGN-IN\n            </StyledSubmitButton>\n            <StyledSignUpButton\n              data-test=\"sign-up\"\n              onClick={() => history.push(`/signup`)}\n            >\n              Don't have an account? Donâ€™t worry! Sign up here\n            </StyledSignUpButton>\n          </StyledButtonContainer>\n        </StyledForm>\n        {/* <StyledOrContainer>\n      <StyledLine />\n      <p>OR</p>\n      <StyledLine />\n    </StyledOrContainer>\n    <LoginWithGoogle /> */}\n      </MainContainer>\n    </Main>\n  );\n};\n\nconst MainContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  padding-top: 50px;\n  height: calc(100vh - ${Constants.HEADER_HEIGHT});\n`;\n\nconst StyledButtonContainer = styled.div`\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nconst StyledTitle = styled.header`\n  font-weight: bold;\n  font-size: 64px;\n`;\n\nconst StyledForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  outline: none;\n  width: 90%;\n  max-width: 600px;\n`;\n\nconst StyledInput = styled.input`\n  border: none;\n  border-bottom: 1px solid black;\n  height: 60px;\n  font-size: 30px;\n  outline: none;\n`;\n\nconst StyledEmailInput = styled(StyledInput)`\n  margin-bottom: 60px;\n`;\n\nconst StyledForgotButton = styled.p`\n  text-align: right;\n  font-size: 18px;\n  margin-bottom: 30px;\n  color: ${Constants.COLOR.LIGHT_GREEN};\n\n  &:hover {\n    cursor: pointer;\n    color: ${Constants.COLOR.DARK_GREEN};\n  }\n`;\n\nconst StyledSignUpButton = styled.p`\n  text-align: right;\n  font-size: 18px;\n  width: 55%;\n  margin-bottom: 30px;\n  color: red;\n\n  &:hover {\n    cursor: pointer;\n    color: #ff8585;\n  }\n`;\n\nconst StyledSubmitButton = styled(Button)`\n  font-size: 25px;\n  height: 70px;\n  width: 20%;\n  min-width: 100px;\n  background-color: ${Constants.COLOR.DARK_GREEN};\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nconst StyledLine = styled.div`\n  display: inline-block;\n  border-bottom: 1px solid black;\n  margin: 0px 10px;\n  width: 15%;\n`;\n\nconst StyledOrContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 90%;\n`;\n\nconst StyledError = styled.p`\n  color: red;\n  margin-top: -20px;\n`;\n\nexport default SignIn;\n","import { Constants } from \"../../data/constants\";\nimport styled from \"styled-components\";\n\nconst StyledButton = styled.div`\n  background-color: ${Constants.COLOR.LIGHT_GREEN};\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  color: white;\n  font-weight: bold;\n  &:hover {\n    filter: brightness(110%);\n    cursor: pointer;\n  }\n`;\n\nexport default StyledButton;\n","export default __webpack_public_path__ + \"static/media/white mtn.bb2904a1.png\";","import { classDataDb } from \"../../data/firebase\";\n\nexport const setCurrentClass = (classNumber) => {\n  return {\n    type: \"SET_CURRENT_CLASS\",\n    payload: classNumber,\n  };\n};\n\nexport const addModule = (module) => {\n  return {\n    type: \"ADD_MODULE\",\n    payload: module,\n  };\n};\n\nexport const refreshClassData = (currentClass) => {\n  classDataDb\n    .doc(currentClass?.cid)\n    .get()\n    .then((doc) => setCurrentClass(doc.data()));\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Constants } from \"../../data/constants\";\nimport StyledButton from \"../Template/Button\";\nimport Logo from \"../../images/white mtn.png\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Header = () => {\n  const history = useHistory();\n\n  return (\n    <StyledHeader id=\"header\">\n      <StyledLogoContainer>\n        <StyledLogo onClick={() => history.push(\"/home\")} src={Logo} />\n        <HeaderName onClick={() => history.push(\"/home\")}>\n          Ancient Path Adventures\n        </HeaderName>\n      </StyledLogoContainer>\n      <StyledButtonContainer>\n        <StyledHelpButton>HELP</StyledHelpButton>\n      </StyledButtonContainer>\n    </StyledHeader>\n  );\n};\n\nconst StyledHeader = styled.header`\n  display: flex;\n  background-color: ${Constants.COLOR.LIGHT_GREEN};\n  justify-content: space-between;\n  align-items: center;\n  height: ${Constants.HEADER_HEIGHT};\n  left: 0;\n  top: 0;\n  width: 100%;\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n  z-index: 100000;\n`;\n\nconst StyledButtonContainer = styled.div`\n  display: flex;\n  align-items: center;\n  margin-right: 3%;\n`;\n\nconst HeaderName = styled.div`\n  font-family: Playball;\n  color: white;\n  white-space: nowrap;\n  margin-left: 30px;\n  font-size: 30px;\n  font-weight: bold;\n  text-shadow: 0px 2px 2px rgba(0, 0, 0, 0.25);\n  :hover {\n    cursor: pointer;\n  }\n  @media (max-width: 800px) {\n    display: none;\n  }\n`;\n\nconst StyledLogo = styled.img`\n  margin-left: 3%;\n  width: 130px;\n  :hover {\n    cursor: pointer;\n  }\n`;\n\nconst StyledLogoContainer = styled.div`\n  display: flex;\n  align-items: center;\n  margin-left: 3%;\n`;\n\nconst StyledHelpButton = styled(StyledButton)`\n  margin-right: 10px;\n  box-shadow: none;\n  height: 10px;\n`;\n\nexport default Header;\n"],"sourceRoot":""}