{"version":3,"sources":["components/Teacher/TextEditor.js","pages/Teacher/Module/Steps/EditText.js","components/Template/Button.js","app/module/actions.js","app/module/selectors.js"],"names":["StyledButton","styled","Button","Constants","COLOR","DARK_GREEN","ButtonContainer","div","TextEditor","props","body","setBody","useState","handleSubmit","e","preventDefault","onSubmit","editor","ClassicEditor","onChange","event","data","getData","onReady","editing","view","change","writer","setStyle","document","getRoot","config","toolbar","items","shouldNotGroupWhenFull","type","onClick","onCancel","StyledBody","HEADER_HEIGHT","SIDEBAR_WIDTH","StyledSectionTitle","p","StyledTextEditor","EditText","dispatch","useDispatch","step","useSelector","selectSelectedStep","history","useHistory","steps","selectSteps","id","selectNextID","title","description","undefined","updateStep","order","addStep","length","push","LIGHT_GREEN","setCurrentStep","payload","setSelectedModule","moduleToAdd","setSelectedStep","stepToAdd","setSteps","setTitle","setDescription","selectModuleState","createSelector","store","getState","state","module","selectIsInModule","inModule","selectCurrentStep","currentStep","selectSelectedModule","selectedModule","selectedStep","Math","max","map","selectCurrentStepData","selectCurrentStepPercentage"],"mappings":"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","file":"static/js/22.29e4f5c0.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\nimport Button from \"../Template/Button\";\nimport styled from \"styled-components\";\nimport { Constants } from \"../../data/constants\";\n\nconst TextEditor = (props) => {\n  const [body, setBody] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onSubmit({ body });\n  };\n\n  const config = {\n    toolbar: {\n      items: [\n        \"heading\",\n        \"|\",\n        \"bold\",\n        \"italic\",\n        \"link\",\n        \"numberedList\",\n        \"bulletedList\",\n        \"|\",\n        \"indent\",\n        \"outdent\",\n        \"|\",\n        \"blockQuote\",\n        \"insertTable\",\n        \"mediaEmbed\",\n        \"|\",\n        \"undo\",\n        \"redo\",\n      ],\n\n      shouldNotGroupWhenFull: true,\n    },\n  };\n\n  return (\n    <form onSubmit={handleSubmit} data-test=\"editor\">\n      <CKEditor\n        editor={ClassicEditor}\n        onChange={(event, editor) => {\n          const data = editor.getData();\n          setBody(data);\n        }}\n        onReady={(editor) => {\n          editor.editing.view.change((writer) => {\n            writer.setStyle(\n              \"height\",\n              \"60vh\",\n              editor.editing.view.document.getRoot()\n            );\n          });\n        }}\n        config={config}\n        data={props.data}\n      />\n      <ButtonContainer>\n        <StyledButton type=\"submit\" onClick={handleSubmit} data-test=\"submit\">\n          Submit\n        </StyledButton>\n        <StyledButton type=\"submit\" onClick={props.onCancel}>\n          Cancel\n        </StyledButton>\n      </ButtonContainer>\n    </form>\n  );\n};\n\nconst StyledButton = styled(Button)`\n  height: 60px;\n  width: 130px;\n  margin-top: 40px;\n  background-color: ${Constants.COLOR.DARK_GREEN};\n`;\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  max-width: 400px;\n`;\n\nexport default TextEditor;\n","import React from \"react\";\nimport Main from \"../../../../layouts/Main\";\nimport SideBar from \"../../../../components/Template/SideBar\";\nimport Header from \"../../../../components/Teacher/Header\";\nimport styled from \"styled-components\";\nimport { Constants } from \"../../../../data/constants\";\nimport TextEditor from \"../../../../components/Teacher/TextEditor\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addStep, updateStep } from \"../../../../app/module/actions\";\nimport { useHistory } from \"react-router\";\nimport {\n  selectNextID,\n  selectSelectedModule,\n  selectSelectedStep,\n  selectSteps,\n} from \"../../../../app/module/selectors\";\nimport Hamburger from \"../../../../components/Template/Hamburger.js\";\n\nconst EditText = () => {\n  const dispatch = useDispatch();\n  const step = useSelector(selectSelectedStep);\n  const history = useHistory();\n  const steps = useSelector(selectSteps);\n  const id = useSelector(selectNextID);\n\n  const onSubmit = (props) => {\n    if (step !== undefined) {\n      dispatch(\n        updateStep({\n          type: \"text\",\n          order: step.order,\n          id: step.id,\n          data: props.body,\n        })\n      );\n    } else {\n      dispatch(\n        addStep({\n          type: \"text\",\n          order: steps.length,\n          id: id,\n          data: props.body,\n        })\n      );\n    }\n    history.push(`/teacher/create-module`);\n  };\n\n  return (\n    <Main title={\"Edit Text Step\"} description={\"Edit Text Step\"}>\n      <SideBar />\n      <Header />\n      <Hamburger />\n      <StyledBody>\n        <StyledSectionTitle>Edit Text</StyledSectionTitle>\n        <StyledTextEditor\n          onSubmit={onSubmit}\n          onCancel={() => history.push(`/teacher/create-module`)}\n          data={step?.data}\n        />\n      </StyledBody>\n    </Main>\n  );\n};\n\nconst StyledBody = styled.div`\n  margin-top: ${Constants.HEADER_HEIGHT};\n  margin-left: ${Constants.SIDEBAR_WIDTH};\n  padding: 0 50px;\n  @media (max-width: 500px) {\n    margin: 0px 0px;\n    padding: 0 5%;\n  }\n`;\n\nconst StyledSectionTitle = styled.p`\n  font-size: 36px;\n  line-height: 43px;\n  font-weight: 500;\n`;\n\nconst StyledTextEditor = styled(TextEditor)`\n  height: 500px;\n`;\n\nexport default EditText;\n","import { Constants } from \"../../data/constants\";\nimport styled from \"styled-components\";\n\nconst StyledButton = styled.div`\n  background-color: ${Constants.COLOR.LIGHT_GREEN};\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  color: white;\n  font-weight: bold;\n  &:hover {\n    filter: brightness(110%);\n    cursor: pointer;\n  }\n`;\n\nexport default StyledButton;\n","export const setCurrentStep = (step) => {\n  return {\n    type: \"SET_CURRENT_STEP\",\n    payload: step,\n  };\n};\n\nexport const setSelectedModule = (moduleToAdd) => {\n  return {\n    type: \"SET_SELECTED_MODULE\",\n    payload: moduleToAdd,\n  };\n};\n\nexport const setSelectedStep = (stepToAdd) => {\n  return {\n    type: \"SET_SELECTED_STEP\",\n    payload: stepToAdd,\n  };\n};\n\nexport const addStep = (step) => {\n  return {\n    type: \"ADD_STEP\",\n    payload: step,\n  };\n};\n\nexport const updateStep = (step) => {\n  return {\n    type: \"UPDATE_STEP\",\n    payload: step,\n  };\n};\n\nexport const setSteps = (steps) => {\n  return {\n    type: \"SET_STEPS\",\n    payload: steps,\n  };\n};\n\nexport const setTitle = (title) => {\n  return {\n    type: \"SET_TITLE\",\n    payload: title,\n  };\n};\n\nexport const setDescription = (description) => {\n  return {\n    type: \"SET_DESCRIPTION\",\n    payload: description,\n  };\n};\n","import { createSelector } from \"reselect\";\nimport { store } from \"../store.js\";\n\nconst selectState = () => store.getState();\n\nconst selectModuleState = createSelector(selectState, (state) => state.module);\n\nexport const selectIsInModule = createSelector(\n  selectModuleState,\n  (state) => state.inModule\n);\n\nexport const selectCurrentStep = createSelector(\n  selectModuleState,\n  (state) => state.currentStep\n);\n\nexport const selectSelectedModule = createSelector(\n  selectModuleState,\n  (state) => state.selectedModule\n);\n\nexport const selectSelectedStep = createSelector(\n  selectModuleState,\n  (state) => state.selectedStep\n);\n\nexport const selectSteps = createSelector(\n  selectSelectedModule,\n  (module) => module?.steps\n);\n\nexport const selectNextID = createSelector(selectSteps, (steps) => {\n  if (steps.length === 0) {\n    return 0;\n  } else {\n    return Math.max(...steps.map((step) => step.id)) + 1;\n  }\n});\n\nexport const selectCurrentStepData = createSelector(\n  selectCurrentStep,\n  selectSteps,\n  (currentStep, steps) => steps[currentStep].data\n);\n\nexport const selectCurrentStepPercentage = createSelector(\n  selectCurrentStep,\n  selectSteps,\n  (currentStep, steps) => ((currentStep + 1) / (steps.length + 1)) * 100\n);\n"],"sourceRoot":""}