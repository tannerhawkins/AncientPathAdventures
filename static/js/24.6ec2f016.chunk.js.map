{"version":3,"sources":["pages/Teacher/Module/Steps/EditVideo.js","components/Template/Button.js","app/module/actions.js","app/module/selectors.js"],"names":["StyledBody","styled","div","Constants","HEADER_HEIGHT","SIDEBAR_WIDTH","StyledError","p","StyledSectionTitle","StyledButton","Button","COLOR","DARK_GREEN","EditVideo","dispatch","useDispatch","history","useHistory","steps","useSelector","selectSteps","step","selectSelectedStep","id","selectNextID","error","setError","useState","title","description","type","defaultValue","data","onClick","url","document","getElementById","value","undefined","match","length","newUrl","updateStep","order","addStep","push","LIGHT_GREEN","setCurrentStep","payload","setSelectedModule","moduleToAdd","setSelectedStep","stepToAdd","setSteps","setTitle","setDescription","selectModuleState","createSelector","store","getState","state","module","selectIsInModule","inModule","selectCurrentStep","currentStep","selectSelectedModule","selectedModule","selectedStep","Math","max","map","selectCurrentStepData","selectCurrentStepPercentage"],"mappings":"iIAAA,iHAiBA,MAkEMA,EAAaC,IAAOC,GAAI;gBACdC,IAAUC;iBACTD,IAAUE;;EAIrBC,EAAcL,IAAOM,CAAE;;EAIvBC,EAAqBP,IAAOM,CAAE;;;;EAM9BE,EAAeR,YAAOS,IAAQ;;;;sBAIdP,IAAUQ,MAAMC;EAGvBC,UAzFG,KAChB,MAAMC,EAAWC,cACXC,EAAUC,cACVC,EAAQC,YAAYC,KACpBC,EAAOF,YAAYG,KACnBC,EAAKJ,YAAYK,MAChBC,EAAOC,GAAYC,mBAAS,IAsCnC,OACE,eAAC,IAAD,CAAMC,MAAO,kBAAmBC,YAAa,kBAA7C,UACE,cAAC,IAAD,IACA,cAAC,IAAD,IACA,cAAC,IAAD,IACA,eAAC7B,EAAD,WACE,cAACQ,EAAD,yBACA,uBACEe,GAAG,MACHO,KAAK,MACL,YAAU,QACVC,aAAY,OAAEV,QAAF,IAAEA,OAAF,EAAEA,EAAMW,OAEtB,cAAC1B,EAAD,UAAcmB,IACd,cAAChB,EAAD,CAAcqB,KAAK,SAASG,QAlDjB,KACf,MAAMC,EAAMC,SAASC,eAAe,OAAOC,MAC3C,QAAWC,GAAPJ,GAA2B,IAAPA,EAAW,CACjC,IAEIK,EAAQL,EAAIK,MADd,wEAEF,IAAMA,GAA4B,IAAnBA,EAAM,GAAGC,OAEtB,YADAd,EAAS,kCAGX,MAAMe,EAAU,2BAA0BF,EAAM,WAE9CzB,OADWwB,IAATjB,EAEAqB,YAAW,CACTZ,KAAM,QACNa,MAAOtB,EAAKsB,MACZpB,GAAIF,EAAKE,GACTS,KAAMS,IAKRG,YAAQ,CACNd,KAAM,QACNa,MAAOzB,EAAMsB,OACbjB,GAAIA,EACJS,KAAMS,KAIZzB,EAAQ6B,KAAK,+BAEbnB,EAAS,mCAkBwC,YAAU,SAAzD,4B,gCC3ER,YAGA,MAAMjB,EAHN,MAGqBR,EAAOC,GAAI;sBACVC,IAAUQ,MAAMmC;;;;;;;;;;;;EAcvBrC,O,gCClBf,gRAAO,MAAMsC,EAAkB1B,IACtB,CACLS,KAAM,mBACNkB,QAAS3B,IAIA4B,EAAqBC,IACzB,CACLpB,KAAM,sBACNkB,QAASE,IAIAC,EAAmBC,IACvB,CACLtB,KAAM,oBACNkB,QAASI,IAIAR,EAAWvB,IACf,CACLS,KAAM,WACNkB,QAAS3B,IAIAqB,EAAcrB,IAClB,CACLS,KAAM,cACNkB,QAAS3B,IAIAgC,EAAYnC,IAChB,CACLY,KAAM,YACNkB,QAAS9B,IAIAoC,EAAY1B,IAChB,CACLE,KAAM,YACNkB,QAASpB,IAIA2B,EAAkB1B,IACtB,CACLC,KAAM,kBACNkB,QAASnB,K,gCCpDb,oSAGA,MAEM2B,EAAoBC,aAFN,IAAMC,IAAMC,aAEuBC,GAAUA,EAAMC,SAE1DC,EAAmBL,YAC9BD,GACCI,GAAUA,EAAMG,WAGNC,EAAoBP,YAC/BD,GACCI,GAAUA,EAAMK,cAGNC,EAAuBT,YAClCD,GACCI,GAAUA,EAAMO,iBAGN7C,EAAqBmC,YAChCD,GACCI,GAAUA,EAAMQ,eAGNhD,EAAcqC,YACzBS,GACCL,GAAD,OAAYA,QAAZ,IAAYA,OAAZ,EAAYA,EAAQ3C,QAGTM,EAAeiC,YAAerC,GAAcF,GAClC,IAAjBA,EAAMsB,OACD,EAEA6B,KAAKC,OAAOpD,EAAMqD,KAAKlD,GAASA,EAAKE,MAAO,IAI1CiD,EAAwBf,YACnCO,EACA5C,GACA,CAAC6C,EAAa/C,IAAUA,EAAM+C,GAAajC,OAGhCyC,EAA8BhB,YACzCO,EACA5C,GACA,CAAC6C,EAAa/C,KAAY+C,EAAc,IAAM/C,EAAMsB,OAAS,GAAM","file":"static/js/24.6ec2f016.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport Main from \"../../../../layouts/Main\";\nimport SideBar from \"../../../../components/Template/SideBar\";\nimport Header from \"../../../../components/Teacher/Header\";\nimport styled from \"styled-components\";\nimport { Constants } from \"../../../../data/constants\";\nimport { addStep, updateStep } from \"../../../../app/module/actions\";\nimport Button from \"../../../../components/Template/Button\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport {\n  selectNextID,\n  selectSteps,\n  selectSelectedStep,\n} from \"../../../../app/module/selectors\";\nimport Hamburger from \"../../../../components/Template/Hamburger.js\";\n\nconst EditVideo = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const steps = useSelector(selectSteps);\n  const step = useSelector(selectSelectedStep);\n  const id = useSelector(selectNextID);\n  const [error, setError] = useState(\"\");\n\n  const onSubmit = () => {\n    const url = document.getElementById(\"url\").value;\n    if (url != undefined || url != \"\") {\n      var regExp =\n        /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=|\\?v=)([^#\\&\\?]*).*/;\n      var match = url.match(regExp);\n      if (!(match && match[2].length == 11)) {\n        setError(\"Please enter valid Youtube URL\");\n        return;\n      }\n      const newUrl = `//www.youtube.com/embed/${match[2]}?rel=0`;\n      if (step !== undefined) {\n        dispatch(\n          updateStep({\n            type: \"video\",\n            order: step.order,\n            id: step.id,\n            data: newUrl,\n          })\n        );\n      } else {\n        dispatch(\n          addStep({\n            type: \"video\",\n            order: steps.length,\n            id: id,\n            data: newUrl,\n          })\n        );\n      }\n      history.push(\"/teacher/create-module\");\n    } else {\n      setError(\"Please enter valid Youtube URL\");\n    }\n  };\n\n  return (\n    <Main title={\"Edit Video Step\"} description={\"Edit Video Step\"}>\n      <SideBar />\n      <Header />\n      <Hamburger />\n      <StyledBody>\n        <StyledSectionTitle>Edit Video</StyledSectionTitle>\n        <input\n          id=\"url\"\n          type=\"url\"\n          data-test=\"video\"\n          defaultValue={step?.data}\n        />\n        <StyledError>{error}</StyledError>\n        <StyledButton type=\"submit\" onClick={onSubmit} data-test=\"submit\">\n          Submit\n        </StyledButton>\n      </StyledBody>\n    </Main>\n  );\n};\n\nconst StyledBody = styled.div`\n  margin-top: ${Constants.HEADER_HEIGHT};\n  margin-left: ${Constants.SIDEBAR_WIDTH};\n  padding: 0 50px;\n`;\n\nconst StyledError = styled.p`\n  color: red;\n`;\n\nconst StyledSectionTitle = styled.p`\n  font-size: 36px;\n  line-height: 43px;\n  font-weight: 500;\n`;\n\nconst StyledButton = styled(Button)`\n  height: 60px;\n  width: 130px;\n  margin-top: 40px;\n  background-color: ${Constants.COLOR.DARK_GREEN};\n`;\n\nexport default EditVideo;\n","import { Constants } from \"../../data/constants\";\nimport styled from \"styled-components\";\n\nconst StyledButton = styled.div`\n  background-color: ${Constants.COLOR.LIGHT_GREEN};\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  color: white;\n  font-weight: bold;\n  &:hover {\n    filter: brightness(110%);\n    cursor: pointer;\n  }\n`;\n\nexport default StyledButton;\n","export const setCurrentStep = (step) => {\n  return {\n    type: \"SET_CURRENT_STEP\",\n    payload: step,\n  };\n};\n\nexport const setSelectedModule = (moduleToAdd) => {\n  return {\n    type: \"SET_SELECTED_MODULE\",\n    payload: moduleToAdd,\n  };\n};\n\nexport const setSelectedStep = (stepToAdd) => {\n  return {\n    type: \"SET_SELECTED_STEP\",\n    payload: stepToAdd,\n  };\n};\n\nexport const addStep = (step) => {\n  return {\n    type: \"ADD_STEP\",\n    payload: step,\n  };\n};\n\nexport const updateStep = (step) => {\n  return {\n    type: \"UPDATE_STEP\",\n    payload: step,\n  };\n};\n\nexport const setSteps = (steps) => {\n  return {\n    type: \"SET_STEPS\",\n    payload: steps,\n  };\n};\n\nexport const setTitle = (title) => {\n  return {\n    type: \"SET_TITLE\",\n    payload: title,\n  };\n};\n\nexport const setDescription = (description) => {\n  return {\n    type: \"SET_DESCRIPTION\",\n    payload: description,\n  };\n};\n","import { createSelector } from \"reselect\";\nimport { store } from \"../store.js\";\n\nconst selectState = () => store.getState();\n\nconst selectModuleState = createSelector(selectState, (state) => state.module);\n\nexport const selectIsInModule = createSelector(\n  selectModuleState,\n  (state) => state.inModule\n);\n\nexport const selectCurrentStep = createSelector(\n  selectModuleState,\n  (state) => state.currentStep\n);\n\nexport const selectSelectedModule = createSelector(\n  selectModuleState,\n  (state) => state.selectedModule\n);\n\nexport const selectSelectedStep = createSelector(\n  selectModuleState,\n  (state) => state.selectedStep\n);\n\nexport const selectSteps = createSelector(\n  selectSelectedModule,\n  (module) => module?.steps\n);\n\nexport const selectNextID = createSelector(selectSteps, (steps) => {\n  if (steps.length === 0) {\n    return 0;\n  } else {\n    return Math.max(...steps.map((step) => step.id)) + 1;\n  }\n});\n\nexport const selectCurrentStepData = createSelector(\n  selectCurrentStep,\n  selectSteps,\n  (currentStep, steps) => steps[currentStep].data\n);\n\nexport const selectCurrentStepPercentage = createSelector(\n  selectCurrentStep,\n  selectSteps,\n  (currentStep, steps) => ((currentStep + 1) / (steps.length + 1)) * 100\n);\n"],"sourceRoot":""}